/*
Идея! Унаследовать uniq_ptr и включить туда объект статистики
Обнумать настройку:
  - ip version: ip4, ip6 -
  Версию ip определим автоматом
  http://stackoverflow.com/questions/10286042/using-boost-asio-to-accept-on-ipv6-link-scope-address
  protocol: tcp|udp|posix|local
  type: text | bin
  mode: stream | dgram  

dgram основной режим для udp (в одном пакете весь запрос, буфер пишеться целиком, что не отправилось - нафиг)
| tcp | text | stream | основной режим - разбивает пакеты по rn и собирает их (не удаляет rn)
| tcp | text | dgram  | ! - работает, но это плохая идея
| tcp | bin  | stream | то же что и bin/dgram   - не разбивает пакеты, отправляет как есть
| tcp | bin  | dgram  | то же что и bin/stream    (может работать быстрее при небольщих рапросах)

| udp | text | stream | подчти как tcp, но черевато
| udp | text | dgram  | основной режим - разбивает пакеты по rn, но не собирает их
| udp | bin  | stream | (игнор) то же что и bin/dgram
| udp | bin  | dgram  | (игнор) то же что и bin/stream

  
Базовый конвейер

  _after_start_ -> _run_line_ 
                       |
               |---->_read_more_  -> _make_buffer_ 
               |        |
               |    _read_some_                                       _buffer_pool_
               |        : асинхронно всегда                                  create()
               |    _read_ready_  -> _on_read_(указатель на буффер)          free()
               |        |
               ---- _read_handler_ -> _incoming_ 
                                            : асинхронно или синхронно
                      _outgoing_      <---------                  
                          |
                      _write_more   -> _prepare_buffer_
                          | если есть что                                    ^
                      _write_some_                                           |
                          |                                                  |
                      _write_ready_ -> _on_write_                            |
                              |                                              |
                       _free_buffer_ -----------------------------------------
                         
  */                       


Аспект TCP-connection stream text-line (rn):
aspect - готов к употреблению
advice_list (не включает context, options, и alias )

proactor::data::stream::line::advice_list
  //aspect(context, options)
  -> proactor::advice_list (не включает context, options, и alias )
  -> proactor::data::advice_list
  -> proactor::data::stream::advice_list
  -> proactor::data::line::advice_list

